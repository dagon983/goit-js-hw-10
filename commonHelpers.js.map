{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate;\nconst btnStart = document.querySelector(\"button\");\nconst input = document.querySelector(\"#datetime-picker\")\nconst now = new Date();\nconst timerDayFace = document.querySelector(\"[data-days]\");\nconst timerHourFace = document.querySelector(\"[data-hours]\");\nconst timerMinuteFace = document.querySelector(\"[data-minutes]\");\nconst timerSecondsFace = document.querySelector(\"[data-seconds]\");\ninput.disabled = false;\nbtnStart.disabled = true;\n\nbtnStart.addEventListener(\"click\", startTimer);\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      console.log(selectedDates[0]);\n      userSelectedDate = selectedDates[0];\n      if ( userSelectedDate < now ) {\n        iziToast.error({\n            title: 'Error',\n            message: \"Please choose a date in the future\",\n            position: 'topRight'\n        });\n        } else { btnStart.disabled = false;}\n        \n    },\n};\n\nfunction startTimer() {\n    input.disabled = true;\n    btnStart.disabled = true;\n\n    const userSelectedTime = userSelectedDate.getTime();\n    const nowTime = now.getTime();\n    let delta = userSelectedTime - nowTime;\n    \n\n    const intervalId = setInterval(() => {\n        delta -= 1000;\n        const convertedTime = convertMs(delta);\n\n        updateTimer(convertedTime);\n        if ( delta < 1000 ) {\n            clearInterval(intervalId);\n            input.disabled = false;\n        }\n        \n    }, 1000)\n};\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    const days = addLeadingZero(Math.floor(ms / day));\n    const hours = addLeadingZero(Math.floor((ms % day) / hour));\n    const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n    const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n  \n    return { days, hours, minutes, seconds };\n};\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, 0);\n};\n\nfunction updateTimer({ days, hours, minutes, seconds }) {\n   timerSecondsFace.textContent = `${seconds}`;\n   timerMinuteFace.textContent = `${minutes}`;\n   timerHourFace.textContent = `${hours}`;\n   timerDayFace.textContent = `${days}`;\n};\n \nflatpickr(\"#datetime-picker\", options);\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["userSelectedDate","btnStart","input","now","timerDayFace","timerHourFace","timerMinuteFace","timerSecondsFace","startTimer","options","selectedDates","iziToast","userSelectedTime","nowTime","delta","intervalId","convertedTime","convertMs","updateTimer","ms","days","addLeadingZero","hours","minutes","seconds","value","flatpickr"],"mappings":"2GAKA,IAAIA,EACJ,MAAMC,EAAW,SAAS,cAAc,QAAQ,EAC1CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAM,IAAI,KACVC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAgB,SAAS,cAAc,cAAc,EACrDC,EAAkB,SAAS,cAAc,gBAAgB,EACzDC,EAAmB,SAAS,cAAc,gBAAgB,EAChEL,EAAM,SAAW,GACjBD,EAAS,SAAW,GAEpBA,EAAS,iBAAiB,QAASO,CAAU,EAE7C,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5BV,EAAmBU,EAAc,CAAC,EAC7BV,EAAmBG,EACtBQ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACT,SAAU,UACtB,CAAS,EACQV,EAAS,SAAW,EAEhC,CACL,EAEA,SAASO,GAAa,CAClBN,EAAM,SAAW,GACjBD,EAAS,SAAW,GAEpB,MAAMW,EAAmBZ,EAAiB,UACpCa,EAAUV,EAAI,UACpB,IAAIW,EAAQF,EAAmBC,EAG/B,MAAME,EAAa,YAAY,IAAM,CACjCD,GAAS,IACT,MAAME,EAAgBC,EAAUH,CAAK,EAErCI,EAAYF,CAAa,EACpBF,EAAQ,MACT,cAAcC,CAAU,EACxBb,EAAM,SAAW,GAGxB,EAAE,GAAI,CACX,CAEA,SAASe,EAAUE,EAAI,CAMnB,MAAMC,EAAOC,EAAe,KAAK,MAAMF,EAAK,KAAG,CAAC,EAC1CG,EAAQD,EAAe,KAAK,MAAOF,EAAK,MAAO,IAAI,CAAC,EACpDI,EAAUF,EAAe,KAAK,MAAQF,EAAK,MAAO,KAAQ,GAAM,CAAC,EACjEK,EAAUH,EAAe,KAAK,MAASF,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAElF,MAAO,CAAE,KAAAC,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAEA,SAASH,EAAeI,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,CAAC,CACtC,CAEA,SAASP,EAAY,CAAE,KAAAE,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACrDjB,EAAiB,YAAc,GAAGiB,CAAO,GACzClB,EAAgB,YAAc,GAAGiB,CAAO,GACxClB,EAAc,YAAc,GAAGiB,CAAK,GACpClB,EAAa,YAAc,GAAGgB,CAAI,EACrC,CAEAM,EAAU,mBAAoBjB,CAAO"}